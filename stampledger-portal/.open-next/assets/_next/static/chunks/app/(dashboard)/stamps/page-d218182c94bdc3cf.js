(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[499],{311:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});let s=(0,a(2895).A)("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]])},2225:(e,t,a)=>{Promise.resolve().then(a.bind(a,7324))},2523:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});let s=(0,a(2895).A)("Stamp",[["path",{d:"M5 22h14",key:"ehvnwv"}],["path",{d:"M19.27 13.73A2.5 2.5 0 0 0 17.5 13h-11A2.5 2.5 0 0 0 4 15.5V17a1 1 0 0 0 1 1h14a1 1 0 0 0 1-1v-1.5c0-.66-.26-1.3-.73-1.77Z",key:"1sy9ra"}],["path",{d:"M14 13V8.5C14 7 15 7 15 5a3 3 0 0 0-3-3c-1.66 0-3 1-3 3s1 2 1 3.5V13",key:"cnxgux"}]])},2915:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});let s=(0,a(2895).A)("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]])},3786:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});let s=(0,a(2895).A)("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]])},3999:(e,t,a)=>{"use strict";a.d(t,{cn:()=>i});var s=a(2596),r=a(9688);function i(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];return(0,r.QP)((0,s.$)(t))}},4616:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});let s=(0,a(2895).A)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},6052:(e,t,a)=>{"use strict";a.d(t,{A:()=>n,AuthProvider:()=>c});var s=a(5155),r=a(2115),i=a(5695);let l=(0,r.createContext)(void 0);function c(e){let{children:t}=e,[a,c]=(0,r.useState)(null),[n,o]=(0,r.useState)(null),[d,h]=(0,r.useState)(!0),u=(0,i.useRouter)();(0,r.useEffect)(()=>{let e=localStorage.getItem("token");e?(o(e),m(e)):h(!1)},[]);let m=async e=>{try{let t=await fetch("/api/auth/me",{headers:{Authorization:"Bearer ".concat(e)}});if(t.ok){let e=await t.json();c(e.user)}else localStorage.removeItem("token"),o(null)}catch(e){console.error("Failed to fetch user:",e),localStorage.removeItem("token"),o(null)}finally{h(!1)}},x=async(e,t)=>{let a=await fetch("/api/auth/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e,password:t})});if(!a.ok)throw Error((await a.json()).error||"Login failed");let s=await a.json();localStorage.setItem("token",s.token),o(s.token),c(s.user),u.push("/")},f=async e=>{let t=await fetch("/api/auth/register",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!t.ok)throw Error((await t.json()).error||"Registration failed");let a=await t.json();localStorage.setItem("token",a.token),o(a.token),c(a.user),u.push("/")};return(0,s.jsx)(l.Provider,{value:{user:a,token:n,loading:d,login:x,register:f,logout:()=>{localStorage.removeItem("token"),o(null),c(null),u.push("/login")}},children:t})}function n(){let e=(0,r.useContext)(l);if(void 0===e)throw Error("useAuth must be used within an AuthProvider");return e}},7168:(e,t,a)=>{"use strict";a.d(t,{$:()=>n});var s=a(5155),r=a(2115),i=a(2085),l=a(3999);let c=(0,i.F)("inline-flex items-center justify-center rounded-lg font-semibold transition-all duration-200 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-cta text-white hover:bg-cta-hover shadow-md hover:shadow-lg focus-visible:ring-cta",secondary:"border-2 border-primary text-primary hover:bg-primary hover:text-white",outline:"border-2 border-gray-300 text-gray-700 hover:bg-gray-50",ghost:"hover:bg-gray-100 text-gray-700",link:"text-cta underline-offset-4 hover:underline",accent:"bg-accent text-white hover:bg-accent-dark shadow-md hover:shadow-lg",teal:"bg-secondary text-white hover:bg-secondary-dark shadow-md hover:shadow-lg",danger:"bg-red-600 text-white hover:bg-red-700 shadow-md hover:shadow-lg"},size:{default:"px-6 py-3",sm:"px-4 py-2 text-sm",lg:"px-8 py-4 text-lg",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),n=r.forwardRef((e,t)=>{let{className:a,variant:r,size:i,...n}=e;return(0,s.jsx)("button",{className:(0,l.cn)(c({variant:r,size:i,className:a})),ref:t,...n})});n.displayName="Button"},7324:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>g});var s=a(5155),r=a(2115),i=a(6874),l=a.n(i),c=a(6052),n=a(7168),o=a(4616);let d=(0,a(2895).A)("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);var h=a(7624),u=a(2523),m=a(2915),x=a(311),f=a(3786),p=a(9852);function g(){let{token:e}=(0,c.A)(),[t,a]=(0,r.useState)([]),[i,g]=(0,r.useState)(!0),[y,v]=(0,r.useState)("");(0,r.useEffect)(()=>{j()},[e]);let j=async()=>{if(e)try{let t=await fetch("/api/stamps",{headers:{Authorization:"Bearer ".concat(e)}});if(t.ok){let e=await t.json();a(e.stamps)}}catch(e){console.error("Failed to fetch stamps:",e)}finally{g(!1)}},w=t.filter(e=>{var t;return(null==(t=e.projectName)?void 0:t.toLowerCase().includes(y.toLowerCase()))||e.jurisdictionId.toLowerCase().includes(y.toLowerCase())||e.documentHash.includes(y.toLowerCase())});return(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h1",{className:"page-header mb-0",children:"Stamps"}),(0,s.jsx)("p",{className:"text-gray-600",children:"Manage your blockchain-verified engineering stamps"})]}),(0,s.jsx)(l(),{href:"/stamps/create",children:(0,s.jsxs)(n.$,{children:[(0,s.jsx)(o.A,{className:"h-4 w-4 mr-2"}),"Create Stamp"]})})]}),(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)(d,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-gray-400"}),(0,s.jsx)(p.p,{placeholder:"Search stamps...",className:"pl-10",value:y,onChange:e=>v(e.target.value)})]}),i?(0,s.jsx)("div",{className:"flex items-center justify-center py-12",children:(0,s.jsx)(h.A,{className:"h-8 w-8 animate-spin text-primary"})}):0===w.length?(0,s.jsxs)("div",{className:"card text-center py-12",children:[(0,s.jsx)(u.A,{className:"h-12 w-12 text-gray-300 mx-auto mb-4"}),(0,s.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"No stamps yet"}),(0,s.jsx)("p",{className:"text-gray-600 mt-1",children:"Create your first blockchain-verified stamp"}),(0,s.jsx)(l(),{href:"/stamps/create",children:(0,s.jsxs)(n.$,{className:"mt-4",children:[(0,s.jsx)(o.A,{className:"h-4 w-4 mr-2"}),"Create Stamp"]})})]}):(0,s.jsx)("div",{className:"grid gap-4",children:w.map(e=>(0,s.jsx)(l(),{href:"/stamps/".concat(e.id),children:(0,s.jsx)("div",{className:"card-hover",children:(0,s.jsxs)("div",{className:"flex items-start justify-between",children:[(0,s.jsxs)("div",{className:"flex items-start space-x-4",children:[(0,s.jsx)("div",{className:"p-3 rounded-lg ".concat("active"===e.status?"bg-accent/10":"bg-red-100"),children:(0,s.jsx)(u.A,{className:"h-6 w-6 ".concat("active"===e.status?"text-accent":"text-red-500")})}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{className:"font-semibold text-gray-900",children:e.projectName||"Untitled Project"}),(0,s.jsxs)("p",{className:"text-sm text-gray-600",children:[e.jurisdictionId," â€¢"," ",new Date(e.createdAt).toLocaleDateString()]}),(0,s.jsxs)("p",{className:"text-xs text-gray-400 font-mono mt-1",children:[e.documentHash.slice(0,16),"...",e.documentHash.slice(-16)]})]})]}),(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:["active"===e.status?(0,s.jsxs)("span",{className:"flex items-center text-sm text-accent",children:[(0,s.jsx)(m.A,{className:"h-4 w-4 mr-1"}),"Active"]}):(0,s.jsxs)("span",{className:"flex items-center text-sm text-red-500",children:[(0,s.jsx)(x.A,{className:"h-4 w-4 mr-1"}),"Revoked"]}),(0,s.jsx)(f.A,{className:"h-4 w-4 text-gray-400"})]})]})})},e.id))})]})}},7624:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});let s=(0,a(2895).A)("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])},9852:(e,t,a)=>{"use strict";a.d(t,{p:()=>l});var s=a(5155),r=a(2115),i=a(3999);let l=r.forwardRef((e,t)=>{let{className:a,type:r,...l}=e;return(0,s.jsx)("input",{type:r,className:(0,i.cn)("flex h-12 w-full rounded-lg border border-gray-300 bg-white px-4 py-2 text-base ring-offset-white file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-gray-500 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-cta focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",a),ref:t,...l})});l.displayName="Input"}},e=>{e.O(0,[987,874,441,964,358],()=>e(e.s=2225)),_N_E=e.O()}]);